"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.partnersWithPaginationInfo = void 0;
exports.partnersWithPaginationInfo = async (_, { status, page = 1, pageSize = 10 }, ctx) => {
    const { data: partners, pagination, } = await ctx.clients.masterdata.searchDocumentsWithPaginationInfo({
        dataEntity: 'PN',
        fields: ['_all'],
        where: `status=${status}`,
        pagination: {
            page,
            pageSize,
        },
    });
    return {
        pagination,
        partners: partners.map((partner) => ({
            ...partner,
            types: JSON.parse(partner.types.toString()),
            regions: JSON.parse(partner.regions.toString()),
            categories: JSON.parse(partner.categories.toString()),
            subcategories: JSON.parse(partner.subcategories.toString()),
        })),
    };
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9zcmMvbm9kZS9yZXNvbHZlcnMvcGFydG5lcnNXaXRoUGFnaW5hdGlvbkluZm8vaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBU2EsUUFBQSwwQkFBMEIsR0FBRyxLQUFLLEVBQzdDLENBQU0sRUFDTixFQUFFLE1BQU0sRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLFFBQVEsR0FBRyxFQUFFLEVBQVEsRUFDekMsR0FBWSxFQUNaLEVBQUU7SUFDRixNQUFNLEVBQ0osSUFBSSxFQUFFLFFBQVEsRUFDZCxVQUFVLEdBQ1gsR0FBRyxNQUFNLEdBQUcsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLGlDQUFpQyxDQUFXO1FBQzNFLFVBQVUsRUFBRSxJQUFJO1FBQ2hCLE1BQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQztRQUNoQixLQUFLLEVBQUUsVUFBVSxNQUFNLEVBQUU7UUFDekIsVUFBVSxFQUFFO1lBQ1YsSUFBSTtZQUNKLFFBQVE7U0FDVDtLQUNGLENBQUMsQ0FBQTtJQUVGLE9BQU87UUFDTCxVQUFVO1FBQ1YsUUFBUSxFQUFFLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDbkMsR0FBRyxPQUFPO1lBQ1YsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUMzQyxPQUFPLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQy9DLFVBQVUsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDckQsYUFBYSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxRQUFRLEVBQUUsQ0FBQztTQUM1RCxDQUFDLENBQUM7S0FDSixDQUFBO0FBQ0gsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiLy8gVHlwaW5nXG5pbXBvcnQgeyBJUGFydG5lciB9IGZyb20gJy4uLy4uL3R5cGluZ3MvcGFydG5lcidcblxuaW50ZXJmYWNlIEFyZ3Mge1xuICBwYWdlPzogbnVtYmVyXG4gIHN0YXR1czogc3RyaW5nXG4gIHBhZ2VTaXplPzogbnVtYmVyXG59XG5cbmV4cG9ydCBjb25zdCBwYXJ0bmVyc1dpdGhQYWdpbmF0aW9uSW5mbyA9IGFzeW5jIChcbiAgXzogYW55LFxuICB7IHN0YXR1cywgcGFnZSA9IDEsIHBhZ2VTaXplID0gMTAgfTogQXJncyxcbiAgY3R4OiBDb250ZXh0XG4pID0+IHtcbiAgY29uc3Qge1xuICAgIGRhdGE6IHBhcnRuZXJzLFxuICAgIHBhZ2luYXRpb24sXG4gIH0gPSBhd2FpdCBjdHguY2xpZW50cy5tYXN0ZXJkYXRhLnNlYXJjaERvY3VtZW50c1dpdGhQYWdpbmF0aW9uSW5mbzxJUGFydG5lcj4oe1xuICAgIGRhdGFFbnRpdHk6ICdQTicsXG4gICAgZmllbGRzOiBbJ19hbGwnXSxcbiAgICB3aGVyZTogYHN0YXR1cz0ke3N0YXR1c31gLFxuICAgIHBhZ2luYXRpb246IHtcbiAgICAgIHBhZ2UsXG4gICAgICBwYWdlU2l6ZSxcbiAgICB9LFxuICB9KVxuXG4gIHJldHVybiB7XG4gICAgcGFnaW5hdGlvbixcbiAgICBwYXJ0bmVyczogcGFydG5lcnMubWFwKChwYXJ0bmVyKSA9PiAoe1xuICAgICAgLi4ucGFydG5lcixcbiAgICAgIHR5cGVzOiBKU09OLnBhcnNlKHBhcnRuZXIudHlwZXMudG9TdHJpbmcoKSksXG4gICAgICByZWdpb25zOiBKU09OLnBhcnNlKHBhcnRuZXIucmVnaW9ucy50b1N0cmluZygpKSxcbiAgICAgIGNhdGVnb3JpZXM6IEpTT04ucGFyc2UocGFydG5lci5jYXRlZ29yaWVzLnRvU3RyaW5nKCkpLFxuICAgICAgc3ViY2F0ZWdvcmllczogSlNPTi5wYXJzZShwYXJ0bmVyLnN1YmNhdGVnb3JpZXMudG9TdHJpbmcoKSksXG4gICAgfSkpLFxuICB9XG59XG4iXX0=