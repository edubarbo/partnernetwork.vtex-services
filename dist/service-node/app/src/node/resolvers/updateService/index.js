"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.updateService = void 0;
exports.updateService = async (_, { id, input }, ctx) => {
    await ctx.clients.masterdata.updatePartialDocument({
        id,
        dataEntity: 'PS',
        fields: input,
    });
    const serviceDocument = await ctx.clients.masterdata.getDocument({
        id,
        dataEntity: 'PS',
        fields: ['id', 'name', 'partnerID', 'isActive', 'isRemoved', 'description'],
    });
    await ctx.clients.masterdata.updatePartialDocument({
        id: serviceDocument.partnerID,
        dataEntity: 'PN',
        fields: {
            status: 'PENDING',
        },
    });
    return serviceDocument;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9zcmMvbm9kZS9yZXNvbHZlcnMvdXBkYXRlU2VydmljZS9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFRYSxRQUFBLGFBQWEsR0FBRyxLQUFLLEVBQ2hDLENBQU0sRUFDTixFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQVEsRUFDbkIsR0FBWSxFQUNaLEVBQUU7SUFDRixNQUFNLEdBQUcsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLHFCQUFxQixDQUFDO1FBQ2pELEVBQUU7UUFDRixVQUFVLEVBQUUsSUFBSTtRQUNoQixNQUFNLEVBQUUsS0FBSztLQUNkLENBQUMsQ0FBQTtJQUVGLE1BQU0sZUFBZSxHQUFHLE1BQU0sR0FBRyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFXO1FBQ3pFLEVBQUU7UUFDRixVQUFVLEVBQUUsSUFBSTtRQUNoQixNQUFNLEVBQUUsQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLFdBQVcsRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLGFBQWEsQ0FBQztLQUM1RSxDQUFDLENBQUE7SUFFRixNQUFNLEdBQUcsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLHFCQUFxQixDQUFDO1FBQ2pELEVBQUUsRUFBRSxlQUFlLENBQUMsU0FBUztRQUM3QixVQUFVLEVBQUUsSUFBSTtRQUNoQixNQUFNLEVBQUU7WUFDTixNQUFNLEVBQUUsU0FBUztTQUNsQjtLQUNGLENBQUMsQ0FBQTtJQUVGLE9BQU8sZUFBZSxDQUFBO0FBQ3hCLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIi8vIFR5cGluZ1xuaW1wb3J0IHsgSVNlcnZpY2UgfSBmcm9tICcuLi8uLi90eXBpbmdzL3NlcnZpY2UnXG5cbmludGVyZmFjZSBBcmdzIHtcbiAgaWQ6IElTZXJ2aWNlWydpZCddXG4gIGlucHV0OiBPbWl0PElTZXJ2aWNlLCAnaWQnIHwgJ3BhcnRuZXJJRCc+XG59XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVTZXJ2aWNlID0gYXN5bmMgKFxuICBfOiBhbnksXG4gIHsgaWQsIGlucHV0IH06IEFyZ3MsXG4gIGN0eDogQ29udGV4dFxuKSA9PiB7XG4gIGF3YWl0IGN0eC5jbGllbnRzLm1hc3RlcmRhdGEudXBkYXRlUGFydGlhbERvY3VtZW50KHtcbiAgICBpZCxcbiAgICBkYXRhRW50aXR5OiAnUFMnLFxuICAgIGZpZWxkczogaW5wdXQsXG4gIH0pXG5cbiAgY29uc3Qgc2VydmljZURvY3VtZW50ID0gYXdhaXQgY3R4LmNsaWVudHMubWFzdGVyZGF0YS5nZXREb2N1bWVudDxJU2VydmljZT4oe1xuICAgIGlkLFxuICAgIGRhdGFFbnRpdHk6ICdQUycsXG4gICAgZmllbGRzOiBbJ2lkJywgJ25hbWUnLCAncGFydG5lcklEJywgJ2lzQWN0aXZlJywgJ2lzUmVtb3ZlZCcsICdkZXNjcmlwdGlvbiddLFxuICB9KVxuXG4gIGF3YWl0IGN0eC5jbGllbnRzLm1hc3RlcmRhdGEudXBkYXRlUGFydGlhbERvY3VtZW50KHtcbiAgICBpZDogc2VydmljZURvY3VtZW50LnBhcnRuZXJJRCxcbiAgICBkYXRhRW50aXR5OiAnUE4nLFxuICAgIGZpZWxkczoge1xuICAgICAgc3RhdHVzOiAnUEVORElORycsXG4gICAgfSxcbiAgfSlcblxuICByZXR1cm4gc2VydmljZURvY3VtZW50XG59XG4iXX0=