"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createOrUpdateSKU = void 0;
async function createOrUpdateSKU(ctx) {
    const { account, product: { Id, Name }, } = ctx.state;
    const skuData = {
        ProductId: Number(Id),
        IsActive: false,
        Name: `${Name}`,
        RefId: `sku_${account}`,
        PackagedHeight: 10,
        PackagedLength: 10,
        PackagedWidth: 10,
        PackagedWeightKg: 10,
        Height: null,
        Length: null,
        Width: null,
        WeightKg: null,
        CubicWeight: 0.1667,
        Quantity: 99999,
        UnitPrice: 10,
        IsKit: false,
        CreationDate: null,
        RewardValue: null,
        EstimatedDateArrival: null,
        ManufacturerCode: `code_${account}`,
        CommercialConditionId: 1,
        MeasurementUnit: 'un',
        UnitMultiplier: 1,
        ModalType: null,
        ActivateIfPossible: true,
        KitItensSellApart: false,
    };
    try {
        const sku = await ctx.clients.catalog.getSKUByRefId(skuData.RefId);
        if (sku) {
            ctx.state.sku = await ctx.clients.catalog.updateSKU({
                ...skuData,
                Id: sku.Id,
                IsActive: sku.IsActive,
            });
        }
    }
    catch (error) {
        ctx.state.sku = await ctx.clients.catalog.createSKU(skuData);
    }
}
exports.createOrUpdateSKU = createOrUpdateSKU;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9zcmMvbm9kZS9taWRkbGV3YXJlcy9jcmVhdGVPclVwZGF0ZVNLVS9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBTyxLQUFLLFVBQVUsaUJBQWlCLENBQUMsR0FBdUI7SUFDN0QsTUFBTSxFQUNKLE9BQU8sRUFDUCxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLEdBQ3RCLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQTtJQUViLE1BQU0sT0FBTyxHQUFHO1FBQ2QsU0FBUyxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUM7UUFDckIsUUFBUSxFQUFFLEtBQUs7UUFDZixJQUFJLEVBQUUsR0FBRyxJQUFJLEVBQUU7UUFDZixLQUFLLEVBQUUsT0FBTyxPQUFPLEVBQUU7UUFDdkIsY0FBYyxFQUFFLEVBQUU7UUFDbEIsY0FBYyxFQUFFLEVBQUU7UUFDbEIsYUFBYSxFQUFFLEVBQUU7UUFDakIsZ0JBQWdCLEVBQUUsRUFBRTtRQUNwQixNQUFNLEVBQUUsSUFBSTtRQUNaLE1BQU0sRUFBRSxJQUFJO1FBQ1osS0FBSyxFQUFFLElBQUk7UUFDWCxRQUFRLEVBQUUsSUFBSTtRQUNkLFdBQVcsRUFBRSxNQUFNO1FBQ25CLFFBQVEsRUFBRSxLQUFLO1FBQ2YsU0FBUyxFQUFFLEVBQUU7UUFDYixLQUFLLEVBQUUsS0FBSztRQUNaLFlBQVksRUFBRSxJQUFJO1FBQ2xCLFdBQVcsRUFBRSxJQUFJO1FBQ2pCLG9CQUFvQixFQUFFLElBQUk7UUFDMUIsZ0JBQWdCLEVBQUUsUUFBUSxPQUFPLEVBQUU7UUFDbkMscUJBQXFCLEVBQUUsQ0FBQztRQUN4QixlQUFlLEVBQUUsSUFBSTtRQUNyQixjQUFjLEVBQUUsQ0FBQztRQUNqQixTQUFTLEVBQUUsSUFBSTtRQUNmLGtCQUFrQixFQUFFLElBQUk7UUFDeEIsaUJBQWlCLEVBQUUsS0FBSztLQUN6QixDQUFBO0lBRUQsSUFBSTtRQUNGLE1BQU0sR0FBRyxHQUFHLE1BQU0sR0FBRyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQTtRQUVsRSxJQUFJLEdBQUcsRUFBRTtZQUNQLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLE1BQU0sR0FBRyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDO2dCQUNsRCxHQUFHLE9BQU87Z0JBQ1YsRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFO2dCQUNWLFFBQVEsRUFBRSxHQUFHLENBQUMsUUFBUTthQUN2QixDQUFDLENBQUE7U0FDSDtLQUNGO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxNQUFNLEdBQUcsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQTtLQUM3RDtBQUNILENBQUM7QUFoREQsOENBZ0RDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlU0tVKGN0eDogQ3VzdG9tRXZlbnRDb250ZXh0KSB7XG4gIGNvbnN0IHtcbiAgICBhY2NvdW50LFxuICAgIHByb2R1Y3Q6IHsgSWQsIE5hbWUgfSxcbiAgfSA9IGN0eC5zdGF0ZVxuXG4gIGNvbnN0IHNrdURhdGEgPSB7XG4gICAgUHJvZHVjdElkOiBOdW1iZXIoSWQpLFxuICAgIElzQWN0aXZlOiBmYWxzZSxcbiAgICBOYW1lOiBgJHtOYW1lfWAsXG4gICAgUmVmSWQ6IGBza3VfJHthY2NvdW50fWAsXG4gICAgUGFja2FnZWRIZWlnaHQ6IDEwLFxuICAgIFBhY2thZ2VkTGVuZ3RoOiAxMCxcbiAgICBQYWNrYWdlZFdpZHRoOiAxMCxcbiAgICBQYWNrYWdlZFdlaWdodEtnOiAxMCxcbiAgICBIZWlnaHQ6IG51bGwsXG4gICAgTGVuZ3RoOiBudWxsLFxuICAgIFdpZHRoOiBudWxsLFxuICAgIFdlaWdodEtnOiBudWxsLFxuICAgIEN1YmljV2VpZ2h0OiAwLjE2NjcsXG4gICAgUXVhbnRpdHk6IDk5OTk5LFxuICAgIFVuaXRQcmljZTogMTAsXG4gICAgSXNLaXQ6IGZhbHNlLFxuICAgIENyZWF0aW9uRGF0ZTogbnVsbCxcbiAgICBSZXdhcmRWYWx1ZTogbnVsbCxcbiAgICBFc3RpbWF0ZWREYXRlQXJyaXZhbDogbnVsbCxcbiAgICBNYW51ZmFjdHVyZXJDb2RlOiBgY29kZV8ke2FjY291bnR9YCxcbiAgICBDb21tZXJjaWFsQ29uZGl0aW9uSWQ6IDEsXG4gICAgTWVhc3VyZW1lbnRVbml0OiAndW4nLFxuICAgIFVuaXRNdWx0aXBsaWVyOiAxLFxuICAgIE1vZGFsVHlwZTogbnVsbCxcbiAgICBBY3RpdmF0ZUlmUG9zc2libGU6IHRydWUsXG4gICAgS2l0SXRlbnNTZWxsQXBhcnQ6IGZhbHNlLFxuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBza3UgPSBhd2FpdCBjdHguY2xpZW50cy5jYXRhbG9nLmdldFNLVUJ5UmVmSWQoc2t1RGF0YS5SZWZJZClcblxuICAgIGlmIChza3UpIHtcbiAgICAgIGN0eC5zdGF0ZS5za3UgPSBhd2FpdCBjdHguY2xpZW50cy5jYXRhbG9nLnVwZGF0ZVNLVSh7XG4gICAgICAgIC4uLnNrdURhdGEsXG4gICAgICAgIElkOiBza3UuSWQsXG4gICAgICAgIElzQWN0aXZlOiBza3UuSXNBY3RpdmUsXG4gICAgICB9KVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjdHguc3RhdGUuc2t1ID0gYXdhaXQgY3R4LmNsaWVudHMuY2F0YWxvZy5jcmVhdGVTS1Uoc2t1RGF0YSlcbiAgfVxufVxuIl19