"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const api_1 = require("@vtex/api");
const errors_1 = require("../../utils/errors");
class CatalogClient extends api_1.JanusClient {
    constructor(context, options) {
        var _a;
        super(context, {
            ...(options !== null && options !== void 0 ? options : {}),
            headers: {
                ...((_a = options === null || options === void 0 ? void 0 : options.headers) !== null && _a !== void 0 ? _a : {}),
                Accept: 'application/json',
                'Cache-Control': 'no-store, max-age=0',
                'Content-Type': 'application/json',
                VtexIdclientAutCookie: context.authToken,
                'X-Vtex-Use-Https': 'true',
            },
        });
        this.getSpecificationsByCategoryId = (id) => this.http.get(`/api/catalog_system/pub/specification/field/listTreeByCategoryId/${id}`, {
            headers: {
                'Cache-Control': 'no-store, max-age=0',
            },
        });
        this.getSpecificationsValuesByFieldId = (id) => this.http.get(`/api/catalog_system/pub/specification/fieldvalue/${id}`, {
            headers: {
                'Cache-Control': 'no-store, max-age=0',
            },
        });
        this.createSKUSpecification = (id, data) => this.http.post(`/api/catalog/pvt/stockkeepingunit/${id}/specification`, data);
        this.getBrand = (id) => this.http.get(`/api/catalog_system/pvt/brand/${id}`);
        this.createBrand = (data) => this.http.post('/api/catalog/pvt/brand', data);
        this.getCollection = (id) => this.http.get(`/api/catalog/pvt/collection/${id}`);
        this.createCollection = (data) => this.http.post('/api/catalog/pvt/collection', data);
        this.getSubcollection = (id) => this.http.get(`/api/catalog/pvt/subcollection/${id}`);
        this.createSubcollection = (data) => this.http.post('/api/catalog/pvt/subcollection', data);
        this.createBrandSubcollection = ({ subcollectionId, data, }) => this.http.post(`/api/catalog/pvt/subcollection/${subcollectionId}/brand`, data);
        this.getCategory = (categoryId) => this.http.get(`/api/catalog/pvt/category${categoryId}`);
        this.createCategory = (data) => this.http.post(`/api/catalog/pvt/category`, data);
        this.createSpecificationGroup = (data) => this.http.post('/api/catalog_system/pvt/specification/group', data);
        this.createSpecificationField = (data) => this.http
            .post('/api/catalog_system/pvt/specification/field', data)
            .then((FieldId) => ({
            ...data,
            FieldId: Number(FieldId),
        }));
        this.createSpecificationFieldValue = (data) => this.http.post('/api/catalog_system/pvt/specification/fieldValue', data);
        this.getProductByRefId = (refId) => this.http.get(`/api/catalog_system/pvt/products/productgetbyrefid/${refId}`);
        this.createProduct = (data) => this.http.post('/api/catalog/pvt/product', data);
        this.updateProductById = (productId, data) => this.http.put(`/api/catalog/pvt/product/${productId}`, data);
        this.createProductToTradePolicy = (productId) => this.http.post(`/api/catalog/pvt/product/${productId}/salespolicy/1`);
        this.createSKU = (data) => this.http.post('/api/catalog/pvt/stockkeepingunit', data);
        this.getSKUIdByRefId = (refId) => this.http.get(`/api/catalog_system/pvt/sku/stockkeepingunitidbyrefid/${refId}`);
        this.getSKUByRefId = (refId) => this.http.get(`/api/catalog/pvt/stockkeepingunit?refId=${refId}`);
        this.updateSKU = ({ Id: skuId, ...data }) => this.http.put(`/api/catalog/pvt/stockkeepingunit/${skuId}`, {
            ...data,
            IsActive: true,
            ActivateIfPossible: true,
        });
        this.createSKUFile = (skuId, data) => this.http.post(`/api/catalog/pvt/stockkeepingunit/${skuId}/file`, data);
        this.getSKUFile = (skuId) => this.http.get(`/api/catalog/pvt/stockkeepingunit/${skuId}/file`);
        this.updateSKUFile = (skuId, skuFileId, data) => this.http.put(`/api/catalog/pvt/stockkeepingunit/${skuId}/file/${skuFileId}`, data);
        this.setSkuSubscription = (data) => this.post('/api/catalog/pvt/skuattachment', data);
        this.createAttachment = (data) => this.post(`/api/catalog/pvt/attachment`, data);
        this.getProductSpecification = (id) => this.http.get(`/api/catalog_system/pvt/products/${id}/specification`);
        this.updateProductSpecification = (productId, data) => this.http.post(`/api/catalog_system/pvt/products/${productId}/specification`, data);
        this.post = (url, data, options) => this.http
            .post(url, data, options)
            .catch(errors_1.returnDataIfConflictOrThrow(data));
    }
}
exports.default = CatalogClient;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9zcmMvbm9kZS9jbGllbnRzL0NhdGFsb2dDbGllbnQvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSxtQ0FBdUM7QUFFdkMsK0NBQWdFO0FBb0NoRSxNQUFxQixhQUFjLFNBQVEsaUJBQVc7SUFDcEQsWUFBWSxPQUFrQixFQUFFLE9BQXlCOztRQUN2RCxLQUFLLENBQUMsT0FBTyxFQUFFO1lBQ2IsR0FBRyxDQUFDLE9BQU8sYUFBUCxPQUFPLGNBQVAsT0FBTyxHQUFJLEVBQUUsQ0FBQztZQUNsQixPQUFPLEVBQUU7Z0JBQ1AsR0FBRyxPQUFDLE9BQU8sYUFBUCxPQUFPLHVCQUFQLE9BQU8sQ0FBRSxPQUFPLG1DQUFJLEVBQUUsQ0FBQztnQkFDM0IsTUFBTSxFQUFFLGtCQUFrQjtnQkFDMUIsZUFBZSxFQUFFLHFCQUFxQjtnQkFDdEMsY0FBYyxFQUFFLGtCQUFrQjtnQkFDbEMscUJBQXFCLEVBQUUsT0FBTyxDQUFDLFNBQVM7Z0JBQ3hDLGtCQUFrQixFQUFFLE1BQU07YUFDM0I7U0FDRixDQUFDLENBQUE7UUFHRyxrQ0FBNkIsR0FBRyxDQUFDLEVBQW1CLEVBQUUsRUFBRSxDQUM3RCxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FDWCxvRUFBb0UsRUFBRSxFQUFFLEVBQ3hFO1lBQ0UsT0FBTyxFQUFFO2dCQUNQLGVBQWUsRUFBRSxxQkFBcUI7YUFDdkM7U0FDRixDQUNGLENBQUE7UUFFSSxxQ0FBZ0MsR0FBRyxDQUFDLEVBQW1CLEVBQUUsRUFBRSxDQUNoRSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FDWCxvREFBb0QsRUFBRSxFQUFFLEVBQ3hEO1lBQ0UsT0FBTyxFQUFFO2dCQUNQLGVBQWUsRUFBRSxxQkFBcUI7YUFDdkM7U0FDRixDQUNGLENBQUE7UUFFSSwyQkFBc0IsR0FBRyxDQUM5QixFQUFtQixFQUNuQixJQUFnQyxF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Q0FDWCxxQ0FBcUMsS0FBSyxTQUFTLFNBQVMsRUFBRSxFQUM5RCxJQUFJLENBQ0wsQ0FBQTtRQUVJLHVCQUFrQixHQUFHLENBQUMsSUFBZ0MsRUFBRSxFQUFFLENBQy9ELElBQUksQ0FBQyxJQUFJLENBQ1AsZ0NBQWdDLEVBQ2hDLElBQUksQ0FDTCxDQUFBO1FBRUkscUJBQWdCLEdBQUcsQ0FBQyxJQUEwQixFQUFFLEVBQUUsQ0FDdkQsSUFBSSxDQUFDLElBQUksQ0FDUCw2QkFBNkIsRUFDN0IsSUFBSSxDQUNMLENBQUE7UUFFSSw0QkFBdUIsR0FBRyxDQUFDLEVBQW1CLEVBQUUsRUFBRSxDQUN2RCxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxvQ0FBb0MsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFBO1FBRWhFLCtCQUEwQixHQUFHLENBQ2xDLFNBQTBCLEVBQzFCLElBQXlDLEVBQ3pDLEVBQUUsQ0FDRixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FDWixvQ0FBb0MsU0FBUyxnQkFBZ0IsRUFDN0QsSUFBSSxDQUNMLENBQUE7UUFFSyxTQUFJLEdBQUcsQ0FDYixHQUFXLEVBQ1gsSUFBVyxFQUNYLE9BQXlCLEVBQ3pCLEVBQUUsQ0FDRixJQUFJLENBQUMsSUFBSTthQUNOLElBQUksQ0FBTyxHQUFHLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQzthQUM5QixLQUFLLENBQVEsb0NBQTJCLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQTtJQS9McEQsQ0FBQztDQWdNRjtBQTdNRCxnQ0E2TUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEluc3RhbmNlT3B0aW9ucywgSU9Db250ZXh0IH0gZnJvbSAnQHZ0ZXgvYXBpJ1xuaW1wb3J0IHsgSmFudXNDbGllbnQgfSBmcm9tICdAdnRleC9hcGknXG5cbmltcG9ydCB7IHJldHVybkRhdGFJZkNvbmZsaWN0T3JUaHJvdyB9IGZyb20gJy4uLy4uL3V0aWxzL2Vycm9ycydcbmltcG9ydCB0eXBlIHtcbiAgQ3JlYXRlQ2F0ZWdvcnlSZXNwb25zZSxcbiAgQ3JlYXRlU0tVRGF0YSxcbiAgQ3JlYXRlU0tVU3BlY2lmaWNhdGlvblJlc3BvbnNlLFxuICBBc3NvY2lhdGVTS1VBdHRhY2htZW50RGF0YSxcbiAgQXNzb2NpYXRlU0tVQXR0YWNobWVudFJlc3BvbnNlLFxuICBDcmVhdGVTS1VTcGVjaWZpY2F0aW9uRGF0YSxcbiAgR2V0U3BlY2lmaWNhdGlvbnNCeUNhdGVnb3J5SWRSZXNwb25zZSxcbiAgQ3JlYXRlQXR0YWNobWVudERhdGEsXG4gIENyZWF0ZUF0dGFjaG1lbnRSZXNwb25zZSxcbiAgQ3JlYXRlUHJvZHVjdERhdGEsXG4gIENyZWF0ZVByb2R1Y3RSZXNwb25zZSxcbiAgQ3JlYXRlU0tVRmlsZURhdGEsXG4gIENyZWF0ZVNLVUZpbGVSZXNwb25zZSxcbiAgQ3JlYXRlU0tVUmVzcG9uc2UsXG4gIENyZWF0ZUJyYW5kRGF0YSxcbiAgQ3JlYXRlQnJhbmRSZXNwb25zZSxcbiAgQ3JlYXRlQ2F0ZWdvcnlEYXRhLFxuICBDcmVhdGVTcGVjaWZpY2F0aW9uR3JvdXBEYXRhLFxuICBDcmVhdGVTcGVjaWZpY2F0aW9uR3JvdXBSZXNwb25zZSxcbiAgQ3JlYXRlU3BlY2lmaWNhdGlvbkZpZWxkRGF0YSxcbiAgQ3JlYXRlU3BlY2lmaWNhdGlvbkZpZWxkUmVzcG9uc2UsXG4gIENyZWF0ZUNvbGxlY3Rpb25EYXRhLFxuICBDcmVhdGVDb2xsZWN0aW9uUmVzcG9uc2UsXG4gIENyZWF0ZVN1YmNvbGxlY3Rpb25EYXRhLFxuICBDcmVhdGVTdWJjb2xsZWN0aW9uUmVzcG9uc2UsXG4gIENyZWF0ZUJyYW5kU3ViY29sbGVjdGlvblJlc3BvbnNlLFxuICBDcmVhdGVCcmFuZFN1YmNvbGxlY3Rpb25JbnB1dCxcbiAgQ3JlYXRlU3BlY2lmaWNhdGlvbkZpZWxkVmFsdWVEYXRhLFxuICBDcmVhdGVTcGVjaWZpY2F0aW9uRmllbGRWYWx1ZVJlc3BvbnNlLFxuICBHZXRTcGVjaWZpY2F0aW9uRmllbGRWYWx1ZXNCeUZpZWxkSWRSZXNwb25zZSxcbiAgR2V0UHJvZHVjdEJ5UmVmSWRSZXNwb25zZSxcbiAgVXBkYXRlUHJvZHVjdFNwZWNpZmljYXRpb25QYXlsb2FkLFxufSBmcm9tICcuL3R5cGVzJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXRhbG9nQ2xpZW50IGV4dGVuZHMgSmFudXNDbGllbnQge1xuICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBJT0NvbnRleHQsIG9wdGlvbnM/OiBJbnN0YW5jZU9wdGlvbnMpIHtcbiAgICBzdXBlcihjb250ZXh0LCB7XG4gICAgICAuLi4ob3B0aW9ucyA/PyB7fSksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIC4uLihvcHRpb25zPy5oZWFkZXJzID8/IHt9KSxcbiAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLXN0b3JlLCBtYXgtYWdlPTAnLFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICBWdGV4SWRjbGllbnRBdXRDb29raWU6IGNvbnRleHQuYXV0aFRva2VuLFxuICAgICAgICAnWC1WdGV4LVVzZS1IdHRwcyc6ICd0cnVlJyxcbiAgICAgIH0sXG4gICAgfSlcbiAgfVxuXG4gIHB1YmxpYyBnZXRTcGVjaWZpY2F0aW9uc0J5Q2F0ZWdvcnlJZCA9IChpZDogc3RyaW5nIHwgbnVtYmVyKSA9PlxuICAgIHRoaXMuaHR0cC5nZXQ8R2V0U3BlY2lmaWNhdGlvbnNCeUNhdGVnb3J5SWRSZXNwb25zZVtdPihcbiAgICAgIGAvYXBpL2NhdGFsb2dfc3lzdGVtL3B1Yi9zcGVjaWZpY2F0aW9uL2ZpZWxkL2xpc3RUcmVlQnlDYXRlZ29yeUlkLyR7aWR9YCxcbiAgICAgIHtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLXN0b3JlLCBtYXgtYWdlPTAnLFxuICAgICAgICB9LFxuICAgICAgfVxuICAgIClcblxuICBwdWJsaWMgZ2V0U3BlY2lmaWNhdGlvbnNWYWx1ZXNCeUZpZWxkSWQgPSAoaWQ6IHN0cmluZyB8IG51bWJlcikgPT5cbiAgICB0aGlzLmh0dHAuZ2V0PEdldFNwZWNpZmljYXRpb25GaWVsZFZhbHVlc0J5RmllbGRJZFJlc3BvbnNlW10+KFxuICAgICAgYC9hcGkvY2F0YWxvZ19zeXN0ZW0vcHViL3NwZWNpZmljYXRpb24vZmllbGR2YWx1ZS8ke2lkfWAsXG4gICAgICB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ2FjaGUtQ29udHJvbCc6ICduby1zdG9yZSwgbWF4LWFnZT0wJyxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICApXG5cbiAgcHVibGljIGNyZWF0ZVNLVVNwZWNpZmljYXRpb24gPSAoXG4gICAgaWQ6IHN0cmluZyB8IG51bWJlcixcbiAgICBkYXRhOiBDcmVhdGVTS1VTcGVjaWZpY2F0aW9uRGF0YVxuICApID0+XG4gICAgdGhpcy5odHRwLnBvc3Q8Q3JlYXRlU0tVU3BlY2lmaWNhdGlvblJlc3BvbnNlPihcbiAgICAgIGAvYXBpL2NhdGFsb2cvcHZ0L3N0b2Nra2VlcGluZ3VuaXQvJHtpZH0vc3BlY2lmaWNhdGlvbmAsXG4gICAgICBkYXRhXG4gICAgKVxuXG4gIHB1YmxpYyBnZXRCcmFuZCA9IChpZDogbnVtYmVyKSA9PlxuICAgIHRoaXMuaHR0cC5nZXQ8Q3JlYXRlQnJhbmRSZXNwb25zZT4oYC9hcGkvY2F0YWxvZ19zeXN0ZW0vcHZ0L2JyYW5kLyR7aWR9YClcblxuICBwdWJsaWMgY3JlYXRlQnJhbmQgPSAoZGF0YTogQ3JlYXRlQnJhbmREYXRhKSA9PlxuICAgIHRoaXMuaHR0cC5wb3N0PENyZWF0ZUJyYW5kUmVzcG9uc2U+KCcvYXBpL2NhdGFsb2cvcHZ0L2JyYW5kJywgZGF0YSlcblxuICBwdWJsaWMgZ2V0Q29sbGVjdGlvbiA9IChpZDogbnVtYmVyKSA9PlxuICAgIHRoaXMuaHR0cC5nZXQ8Q3JlYXRlQ29sbGVjdGlvblJlc3BvbnNlPihgL2FwaS9jYXRhbG9nL3B2dC9jb2xsZWN0aW9uLyR7aWR9YClcblxuICBwdWJsaWMgY3JlYXRlQ29sbGVjdGlvbiA9IChkYXRhOiBDcmVhdGVDb2xsZWN0aW9uRGF0YSkgPT5cbiAgICB0aGlzLmh0dHAucG9zdDxDcmVhdGVDb2xsZWN0aW9uUmVzcG9uc2U+KFxuICAgICAgJy9hcGkvY2F0YWxvZy9wdnQvY29sbGVjdGlvbicsXG4gICAgICBkYXRhXG4gICAgKVxuXG4gIHB1YmxpYyBnZXRTdWJjb2xsZWN0aW9uID0gKGlkOiBudW1iZXIpID0+XG4gICAgdGhpcy5odHRwLmdldDxDcmVhdGVTdWJjb2xsZWN0aW9uUmVzcG9uc2U+KFxuICAgICAgYC9hcGkvY2F0YWxvZy9wdnQvc3ViY29sbGVjdGlvbi8ke2lkfWBcbiAgICApXG5cbiAgcHVibGljIGNyZWF0ZVN1YmNvbGxlY3Rpb24gPSAoZGF0YTogQ3JlYXRlU3ViY29sbGVjdGlvbkRhdGEpID0+XG4gICAgdGhpcy5odHRwLnBvc3Q8Q3JlYXRlU3ViY29sbGVjdGlvblJlc3BvbnNlPihcbiAgICAgICcvYXBpL2NhdGFsb2cvcHZ0L3N1YmNvbGxlY3Rpb24nLFxuICAgICAgZGF0YVxuICAgIClcblxuICBwdWJsaWMgY3JlYXRlQnJhbmRTdWJjb2xsZWN0aW9uID0gKHtcbiAgICBzdWJjb2xsZWN0aW9uSWQsXG4gICAgZGF0YSxcbiAgfTogQ3JlYXRlQnJhbmRTdWJjb2xsZWN0aW9uSW5wdXQpID0+XG4gICAgdGhpcy5odHRwLnBvc3Q8Q3JlYXRlQnJhbmRTdWJjb2xsZWN0aW9uUmVzcG9uc2U+KFxuICAgICAgYC9hcGkvY2F0YWxvZy9wdnQvc3ViY29sbGVjdGlvbi8ke3N1YmNvbGxlY3Rpb25JZH0vYnJhbmRgLFxuICAgICAgZGF0YVxuICAgIClcblxuICBwdWJsaWMgZ2V0Q2F0ZWdvcnkgPSAoY2F0ZWdvcnlJZDogbnVtYmVyKSA9PlxuICAgIHRoaXMuaHR0cC5nZXQ8Q3JlYXRlQ2F0ZWdvcnlSZXNwb25zZT4oXG4gICAgICBgL2FwaS9jYXRhbG9nL3B2dC9jYXRlZ29yeSR7Y2F0ZWdvcnlJZH1gXG4gICAgKVxuXG4gIHB1YmxpYyBjcmVhdGVDYXRlZ29yeSA9IChkYXRhOiBDcmVhdGVDYXRlZ29yeURhdGEpID0+XG4gICAgdGhpcy5odHRwLnBvc3Q8Q3JlYXRlQ2F0ZWdvcnlSZXNwb25zZT4oYC9hcGkvY2F0YWxvZy9wdnQvY2F0ZWdvcnlgLCBkYXRhKVxuXG4gIHB1YmxpYyBjcmVhdGVTcGVjaWZpY2F0aW9uR3JvdXAgPSAoZGF0YTogQ3JlYXRlU3BlY2lmaWNhdGlvbkdyb3VwRGF0YSkgPT5cbiAgICB0aGlzLmh0dHAucG9zdDxDcmVhdGVTcGVjaWZpY2F0aW9uR3JvdXBSZXNwb25zZT4oXG4gICAgICAnL2FwaS9jYXRhbG9nX3N5c3RlbS9wdnQvc3BlY2lmaWNhdGlvbi9ncm91cCcsXG4gICAgICBkYXRhXG4gICAgKVxuXG4gIHB1YmxpYyBjcmVhdGVTcGVjaWZpY2F0aW9uRmllbGQgPSAoZGF0YTogQ3JlYXRlU3BlY2lmaWNhdGlvbkZpZWxkRGF0YSkgPT5cbiAgICB0aGlzLmh0dHBcbiAgICAgIC5wb3N0PHN0cmluZz4oJy9hcGkvY2F0YWxvZ19zeXN0ZW0vcHZ0L3NwZWNpZmljYXRpb24vZmllbGQnLCBkYXRhKVxuICAgICAgLnRoZW48Q3JlYXRlU3BlY2lmaWNhdGlvbkZpZWxkUmVzcG9uc2U+KChGaWVsZElkKSA9PiAoe1xuICAgICAgICAuLi5kYXRhLFxuICAgICAgICBGaWVsZElkOiBOdW1iZXIoRmllbGRJZCksXG4gICAgICB9KSlcblxuICBwdWJsaWMgY3JlYXRlU3BlY2lmaWNhdGlvbkZpZWxkVmFsdWUgPSAoXG4gICAgZGF0YTogQ3JlYXRlU3BlY2lmaWNhdGlvbkZpZWxkVmFsdWVEYXRhXG4gICkgPT5cbiAgICB0aGlzLmh0dHAucG9zdDxDcmVhdGVTcGVjaWZpY2F0aW9uRmllbGRWYWx1ZVJlc3BvbnNlPihcbiAgICAgICcvYXBpL2NhdGFsb2dfc3lzdGVtL3B2dC9zcGVjaWZpY2F0aW9uL2ZpZWxkVmFsdWUnLFxuICAgICAgZGF0YVxuICAgIClcblxuICBwdWJsaWMgZ2V0UHJvZHVjdEJ5UmVmSWQgPSAocmVmSWQ6IHN0cmluZykgPT5cbiAgICB0aGlzLmh0dHAuZ2V0PEdldFByb2R1Y3RCeVJlZklkUmVzcG9uc2U+KFxuICAgICAgYC9hcGkvY2F0YWxvZ19zeXN0ZW0vcHZ0L3Byb2R1Y3RzL3Byb2R1Y3RnZXRieXJlZmlkLyR7cmVmSWR9YFxuICAgIClcblxuICBwdWJsaWMgY3JlYXRlUHJvZHVjdCA9IChkYXRhOiBDcmVhdGVQcm9kdWN0RGF0YSkgPT5cbiAgICB0aGlzLmh0dHAucG9zdDxDcmVhdGVQcm9kdWN0UmVzcG9uc2U+KCcvYXBpL2NhdGFsb2cvcHZ0L3Byb2R1Y3QnLCBkYXRhKVxuXG4gIHB1YmxpYyB1cGRhdGVQcm9kdWN0QnlJZCA9IChcbiAgICBwcm9kdWN0SWQ6IENyZWF0ZVByb2R1Y3RSZXNwb25zZVsnSWQnXSxcbiAgICBkYXRhOiBDcmVhdGVQcm9kdWN0RGF0YVxuICApID0+XG4gICAgdGhpcy5odHRwLnB1dDxDcmVhdGVQcm9kdWN0UmVzcG9uc2U+KFxuICAgICAgYC9hcGkvY2F0YWxvZy9wdnQvcHJvZHVjdC8ke3Byb2R1Y3RJZH1gLFxuICAgICAgZGF0YVxuICAgIClcblxuICBwdWJsaWMgY3JlYXRlUHJvZHVjdFRvVHJhZGVQb2xpY3kgPSAocHJvZHVjdElkOiBzdHJpbmcgfCBudW1iZXIpID0+XG4gICAgdGhpcy5odHRwLnBvc3QoYC9hcGkvY2F0YWxvZy9wdnQvcHJvZHVjdC8ke3Byb2R1Y3RJZH0vc2FsZXNwb2xpY3kvMWApXG5cbiAgcHVibGljIGNyZWF0ZVNLVSA9IChkYXRhOiBDcmVhdGVTS1VEYXRhKSA9PlxuICAgIHRoaXMuaHR0cC5wb3N0PENyZWF0ZVNLVVJlc3BvbnNlPignL2FwaS9jYXRhbG9nL3B2dC9zdG9ja2tlZXBpbmd1bml0JywgZGF0YSlcblxuICBwdWJsaWMgZ2V0U0tVSWRCeVJlZklkID0gKHJlZklkOiBzdHJpbmcpID0+XG4gICAgdGhpcy5odHRwLmdldDxzdHJpbmc+KFxuICAgICAgYC9hcGkvY2F0YWxvZ19zeXN0ZW0vcHZ0L3NrdS9zdG9ja2tlZXBpbmd1bml0aWRieXJlZmlkLyR7cmVmSWR9YFxuICAgIClcblxuICBwdWJsaWMgZ2V0U0tVQnlSZWZJZCA9IChyZWZJZDogc3RyaW5nKSA9PlxuICAgIHRoaXMuaHR0cC5nZXQ8Q3JlYXRlU0tVUmVzcG9uc2U+KFxuICAgICAgYC9hcGkvY2F0YWxvZy9wdnQvc3RvY2trZWVwaW5ndW5pdD9yZWZJZD0ke3JlZklkfWBcbiAgICApXG5cbiAgcHVibGljIHVwZGF0ZVNLVSA9ICh7IElkOiBza3VJZCwgLi4uZGF0YSB9OiBDcmVhdGVTS1VSZXNwb25zZSkgPT5cbiAgICB0aGlzLmh0dHAucHV0PENyZWF0ZVNLVVJlc3BvbnNlPihcbiAgICAgIGAvYXBpL2NhdGFsb2cvcHZ0L3N0b2Nra2VlcGluZ3VuaXQvJHtza3VJZH1gLFxuICAgICAge1xuICAgICAgICAuLi5kYXRhLFxuICAgICAgICBJc0FjdGl2ZTogdHJ1ZSxcbiAgICAgICAgQWN0aXZhdGVJZlBvc3NpYmxlOiB0cnVlLFxuICAgICAgfVxuICAgIClcblxuICBwdWJsaWMgY3JlYXRlU0tVRmlsZSA9IChza3VJZDogc3RyaW5nIHwgbnVtYmVyLCBkYXRhOiBDcmVhdGVTS1VGaWxlRGF0YSkgPT5cbiAgICB0aGlzLmh0dHAucG9zdDxDcmVhdGVTS1VGaWxlUmVzcG9uc2U+KFxuICAgICAgYC9hcGkvY2F0YWxvZy9wdnQvc3RvY2trZWVwaW5ndW5pdC8ke3NrdUlkfS9maWxlYCxcbiAgICAgIGRhdGFcbiAgICApXG5cbiAgcHVibGljIGdldFNLVUZpbGUgPSAoc2t1SWQ6IHN0cmluZyB8IG51bWJlcikgPT5cbiAgICB0aGlzLmh0dHAuZ2V0PENyZWF0ZVNLVUZpbGVSZXNwb25zZVtdPihcbiAgICAgIGAvYXBpL2NhdGFsb2cvcHZ0L3N0b2Nra2VlcGluZ3VuaXQvJHtza3VJZH0vZmlsZWBcbiAgICApXG5cbiAgcHVibGljIHVwZGF0ZVNLVUZpbGUgPSAoXG4gICAgc2t1SWQ6IHN0cmluZyB8IG51bWJlcixcbiAgICBza3VGaWxlSWQ6IHN0cmluZyB8IG51bWJlcixcbiAgICBkYXRhOiBDcmVhdGVTS1VGaWxlRGF0YVxuICApID0+XG4gICAgdGhpcy5odHRwLnB1dDxDcmVhdGVTS1VGaWxlUmVzcG9uc2U+KFxuICAgICAgYC9hcGkvY2F0YWxvZy9wdnQvc3RvY2trZWVwaW5ndW5pdC8ke3NrdUlkfS9maWxlLyR7c2t1RmlsZUlkfWAsXG4gICAgICBkYXRhXG4gICAgKVxuXG4gIHB1YmxpYyBzZXRTa3VTdWJzY3JpcHRpb24gPSAoZGF0YTogQXNzb2NpYXRlU0tVQXR0YWNobWVudERhdGEpID0+XG4gICAgdGhpcy5wb3N0PEFzc29jaWF0ZVNLVUF0dGFjaG1lbnRSZXNwb25zZSwgQXNzb2NpYXRlU0tVQXR0YWNobWVudERhdGE+KFxuICAgICAgJy9hcGkvY2F0YWxvZy9wdnQvc2t1YXR0YWNobWVudCcsXG4gICAgICBkYXRhXG4gICAgKVxuXG4gIHB1YmxpYyBjcmVhdGVBdHRhY2htZW50ID0gKGRhdGE6IENyZWF0ZUF0dGFjaG1lbnREYXRhKSA9PlxuICAgIHRoaXMucG9zdDxDcmVhdGVBdHRhY2htZW50UmVzcG9uc2UsIENyZWF0ZUF0dGFjaG1lbnREYXRhPihcbiAgICAgIGAvYXBpL2NhdGFsb2cvcHZ0L2F0dGFjaG1lbnRgLFxuICAgICAgZGF0YVxuICAgIClcblxuICBwdWJsaWMgZ2V0UHJvZHVjdFNwZWNpZmljYXRpb24gPSAoaWQ6IHN0cmluZyB8IG51bWJlcikgPT5cbiAgICB0aGlzLmh0dHAuZ2V0KGAvYXBpL2NhdGFsb2dfc3lzdGVtL3B2dC9wcm9kdWN0cy8ke2lkfS9zcGVjaWZpY2F0aW9uYClcblxuICBwdWJsaWMgdXBkYXRlUHJvZHVjdFNwZWNpZmljYXRpb24gPSAoXG4gICAgcHJvZHVjdElkOiBzdHJpbmcgfCBudW1iZXIsXG4gICAgZGF0YTogVXBkYXRlUHJvZHVjdFNwZWNpZmljYXRpb25QYXlsb2FkW11cbiAgKSA9PlxuICAgIHRoaXMuaHR0cC5wb3N0PFVwZGF0ZVByb2R1Y3RTcGVjaWZpY2F0aW9uUGF5bG9hZFtdPihcbiAgICAgIGAvYXBpL2NhdGFsb2dfc3lzdGVtL3B2dC9wcm9kdWN0cy8ke3Byb2R1Y3RJZH0vc3BlY2lmaWNhdGlvbmAsXG4gICAgICBkYXRhXG4gICAgKVxuXG4gIHByaXZhdGUgcG9zdCA9IDxUUmVzLCBUZGF0YT4oXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgZGF0YTogVGRhdGEsXG4gICAgb3B0aW9ucz86IEluc3RhbmNlT3B0aW9uc1xuICApID0+XG4gICAgdGhpcy5odHRwXG4gICAgICAucG9zdDxUUmVzPih1cmwsIGRhdGEsIG9wdGlvbnMpXG4gICAgICAuY2F0Y2g8VGRhdGE+KHJldHVybkRhdGFJZkNvbmZsaWN0T3JUaHJvdyhkYXRhKSlcbn1cbiJdfQ==